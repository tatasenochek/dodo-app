import{g as r,h as b,e as j,u as x,i as f,j as c,L as P,C as v,t as N,a as _,P as g,k,b as y}from"./index-Clx95jyL.js";const C="_product_1baro_1",S="_product__link_1baro_15",D="_product__image_1baro_25",E="_product__info_1baro_29",L="_product__title_1baro_35",U="_product__selector_1baro_41",A="_active_1baro_62",T="_product__bottom_1baro_68",B="_product__price_1baro_74",s={product:C,product__link:S,product__image:D,product__info:E,product__title:L,product__selector:U,active:A,product__bottom:T,product__price:B,"card-button":"_card-button_1baro_80"};function R(){const[a,d]=r.useState(0),[i,u]=r.useState(0),{id:l}=b(),{pizza:t}=j(o=>o.products),n=x(),p=f();async function m(){p(k({id:l}))}r.useEffect(()=>{m()},[]);function h(){if(t){const o={id:t.id,imageUrl:t.imageUrl,title:t.title,type:a,size:t.sizes[i],price:t.price,count:1};n(y(o))}}return c.jsxs("div",{className:s.product,children:[c.jsxs(P,{to:"/",className:s.product__link,children:[c.jsx(v,{}),"Назад"]}),c.jsx("img",{className:s.product__image,src:t==null?void 0:t.imageUrl,alt:t==null?void 0:t.title}),c.jsxs("div",{className:s.product__info,children:[c.jsx("h4",{className:s.product__title,children:t==null?void 0:t.title}),c.jsx("p",{children:t==null?void 0:t.description}),c.jsxs("div",{className:s.product__selector,children:[c.jsx("ul",{children:t==null?void 0:t.types.map((o,e)=>c.jsx("li",{onClick:()=>d(e),className:_(a===e&&s.active),children:N[o]},e))}),c.jsx("ul",{children:t==null?void 0:t.sizes.map((o,e)=>c.jsxs("li",{onClick:()=>u(e),className:_(i===e&&s.active),children:[o," см."]},e))})]}),c.jsxs("div",{className:s.product__bottom,children:[c.jsxs("div",{className:s.product__price,children:["от ",t==null?void 0:t.price," ₽"]}),c.jsxs("button",{className:_(s.button,s["card-button"]),onClick:h,children:[c.jsx(g,{size:16}),c.jsx("span",{children:"Добавить"})]})]})]})]})}export{R as default};
